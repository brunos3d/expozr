# ğŸš€ Expozr

**Universal plugin ecosystem for dynamic module sharing**

Expozr enables any web bundler to expose and consume modules at runtime, creating a truly decentralized application architecture that's simpler and more flexible than traditional approaches.

> **ğŸš§ Current Status**: Expozr is in active development. The core functionality and Webpack adapter are working with examples available. See [examples](./examples) for working demos.

## ğŸ¯ Core Concepts

### ğŸª **Expozr** (Remote Application)

The application that **exposes** modules. Think of it as a supplier in the ecosystem.

- Contains the actual implementation of shared components/utilities
- Generates an **Inventory** (exposure map)
- Can be deployed independently

### ğŸ  **Host** (Consumer Application)

The application that **consumes** exposed modules from expozrs.

- Loads modules from Expozrs at runtime
- Uses a **Catalog** to discover available modules
- Handles dependency resolution automatically

### ğŸ“¦ **Cargo** (Exposed Module)

Individual module/component being shared.

- Can be a React component, utility function, entire library, etc.
- Has metadata: name, version, dependencies, entry point
- Loaded dynamically at runtime

### ğŸ“‹ **Inventory** (Exposure Map)

JSON manifest generated by Expozrs that lists all available Cargo with metadata.

### ğŸ§­ **Navigator** (Runtime Loader)

Universal runtime system that handles dynamic loading, dependency resolution, and caching.

## ğŸ¨ Examples & Quick Start

The fastest way to understand Expozr is to run the examples! We have working examples for different bundlers and frameworks. Check out the [examples](./examples) directory for complete working examples and detailed setup instructions.

### ğŸ“‚ Examples Directory

**â¡ï¸ [View all examples](./examples/)**

| Example                                                        | Description                         | Stack                          |
| -------------------------------------------------------------- | ----------------------------------- | ------------------------------ |
| [**Webpack + Get Started**](./examples/webpack/get-started/)   | Simplest possible setup             | TypeScript                     |
| [**Webpack + Vanilla**](./examples/webpack/vanilla/)           | Basic module sharing                | Vanilla JS + TypeScript        |
| [**Webpack + React**](./examples/webpack/react/)               | React component sharing             | React + TypeScript             |
| [**Webpack + Express (Node.js)**](./examples/webpack/express/) | Express server module sharing (ESM) | Node.js + Express + TypeScript |
| [**Webpack + ESM**](./examples/webpack/esm/)                   | Modern ES modules                   | ESM + TypeScript               |
| [**Webpack + UMD**](./examples/webpack/umd/)                   | Universal module format             | UMD + TypeScript               |
| [**Vite + React**](./examples/vite/react/)                     | Vite React components               | Vite + React + TS              |

### âš¡ Quick Start (2 minutes)

Try the simplest Get Started example:

```bash
# 1. Clone and setup
git clone https://github.com/brunos3d/expozr.git
cd expozr
npm install && npm run build

# 2. Start the expozr (port 3001)
cd examples/webpack/get-started/remote
npm run dev

# 3. In a new terminal, start the host (port 3000)
cd examples/webpack/get-started/host
npm run dev

# 4. Open http://localhost:3000 in your browser
```

**That's it!** You'll see the host loading and using utilities from the remote expozr in real-time.

### ğŸ¯ What You'll See

- âœ… **Automatic Config Discovery**: Zero configuration needed
- âœ… **Runtime Module Loading**: Modules loaded dynamically from remote
- âœ… **Hot Reloading**: Changes update instantly in development
- âœ… **Error Handling**: Clear error messages and troubleshooting

## âœ¨ Key Features

### ğŸ™ **Universal Module System**

- ğŸŒ **Bundler Agnostic**: Works with any bundler (Webpack, Vite, Rollup, Rspack, etc.)
- âœ¨ **Multi-Format Support**: ESM, UMD, CJS, AMD, IIFE, SystemJS with automatic detection
- ğŸ§  **Intelligent Fallbacks**: Graceful degradation when preferred formats fail
- âš¡ **Hybrid Mode**: Load both ESM and UMD versions of the same module

### ğŸš€ **Runtime Excellence**

- ğŸš€ **Dynamic Loading**: Load modules at runtime without build-time coupling
- ğŸ¯ **Smart Format Detection**: Automatically detects and loads the best available format
- ğŸ› ï¸ **Error Recovery**: Comprehensive error handling with detailed feedback
- ğŸ“Š **Format Tracking**: Monitor which formats are successfully loaded

### ğŸ”§ **Developer Experience**

- ğŸ”§ **Great DX**: Simple APIs, CLI tools, and comprehensive documentation
- ğŸ—ï¸ **TypeScript First**: Full type safety with intelligent autocompletion
- ğŸ“± **Cross-Platform**: Works seamlessly in Browser and Node.js environments
- ğŸ”¥ **Hot Reloading**: Development-time module reloading support

### âš™ï¸ **Advanced Configuration**

- ğŸ”„ **Version Management**: Semantic versioning with automatic resolution
- ğŸ—ï¸ **Dependency Resolution**: Smart dependency handling and conflict resolution
- âš™ï¸ **Configuration Presets**: Pre-built configurations for common scenarios
- ğŸ› ï¸ **Plugin Architecture**: Extensible system for custom functionality

### ğŸ’¾ **Intelligent Caching**

- ğŸ’¾ **Multiple Strategies**: Memory, localStorage, IndexedDB, or no caching
- â±ï¸ **TTL Support**: Time-based cache invalidation
- ğŸ”§ **Cache Analytics**: Monitor cache performance and hit rates
- ğŸ”„ **Smart Invalidation**: Automatic cache updates when modules change

### ğŸ”’ **Production Ready**

- ğŸ›¡ï¸ **Error Boundaries**: Graceful error handling and recovery
- ğŸ“Š **Performance Monitoring**: Track loading times and cache efficiency
- ï¿½ **Debug Mode**: Detailed logging for development and troubleshooting
- ğŸš€ **Optimized Loading**: Preloading and lazy loading strategies

## ğŸ“¦ Packages

### Core Packages

- **[@expozr/core](./packages/core)** - Core abstractions, types, and configuration system with multi-format module support (ESM, UMD, CJS)
- **[@expozr/navigator](./packages/navigator)** - Universal runtime loader with smart format detection, caching strategies, and cross-platform support
- **[@expozr/adapter-sdk](./packages/adapters/sdk)** - Shared SDK and utilities for building bundler adapters with configuration management and format utilities

### Bundler Adapters

- **[@expozr/webpack-adapter](./packages/adapters/webpack)** - Webpack 5+ support with inventory generation and hot reloading
- **[@expozr/vite-adapter](./packages/adapters/vite)** - Vite support with ESM-first approach and development server integration
- **[@expozr/rollup-adapter](./packages/adapters/rollup)** - Rollup support _(coming soon)_
- **[@expozr/rspack-adapter](./packages/adapters/rspack)** - Rspack support _(coming soon)_

### Framework Utilities

- **[@expozr/react](./packages/react)** - React component loading utilities

### Developer Tools

- **[@expozr/cli](./packages/cli)** - Command line tools

## ğŸ› ï¸ Bundler Support

| Bundler    | Status     | Package                   |
| ---------- | ---------- | ------------------------- |
| Webpack 5+ | âœ… Ready   | @expozr/webpack-adapter   |
| Vite       | âœ… Ready   | @expozr/vite-adapter      |
| esbuild    | ğŸ“‹ Planned | @expozr/esbuild-adapter   |
| Rollup     | ğŸ“‹ Planned | @expozr/rollup-adapter    |
| Rspack     | ğŸ“‹ Planned | @expozr/rspack-adapter    |
| Parcel     | ğŸ“‹ Planned | @expozr/parcel-adapter    |
| Bun        | ğŸ“‹ Planned | @expozr/bun-adapter       |
| Turbopack  | ğŸ“‹ Planned | @expozr/turbopack-adapter |
| SWC        | ğŸ“‹ Planned | @expozr/swc-adapter       |
| Farm       | ğŸ“‹ Planned | @expozr/farm-adapter      |

## âš›ï¸ Frontend Framework Support

| Framework  | Status     | Package            | Features                                  |
| ---------- | ---------- | ------------------ | ----------------------------------------- |
| Vanilla JS | âœ… Ready   | @expozr/core       | Universal module loading                  |
| React      | âœ… Ready   | @expozr/react      | Component loading, Suspense integration   |
| Next.js    | ğŸ“‹ Planned | @expozr/nextjs     | SSR/SSG support, App Router integration   |
| Modern.js  | ğŸ“‹ Planned | @expozr/modernjs   | Module federation, SSR support            |
| Remix      | ğŸ“‹ Planned | @expozr/remix      | Route-based loading, loader integration   |
| Gatsby     | ğŸ“‹ Planned | @expozr/gatsby     | Static generation, build-time integration |
| Vue        | ğŸ“‹ Planned | @expozr/vue        | Component loading, async components       |
| Nuxt       | ğŸ“‹ Planned | @expozr/nuxt       | SSR/SSG support, auto-imports             |
| Angular    | ğŸ“‹ Planned | @expozr/angular    | Module loading, lazy loading integration  |
| Svelte     | ğŸ“‹ Planned | @expozr/svelte     | Component loading, reactive updates       |
| SvelteKit  | ğŸ“‹ Planned | @expozr/sveltekit  | SSR support, route-based loading          |
| Solid      | ğŸ“‹ Planned | @expozr/solid      | Component loading, lazy components        |
| SolidStart | ğŸ“‹ Planned | @expozr/solidstart | SSR support, file-based routing           |
| Astro      | ğŸ“‹ Planned | @expozr/astro      | Multi-framework support, island loading   |
| Qwik       | ğŸ“‹ Planned | @expozr/qwik       | Resumable components, edge optimization   |
| Lit        | ğŸ“‹ Planned | @expozr/lit        | Web component loading                     |

## ğŸ”§ Development Tools & Plugins

| Tool       | Status     | Package            | Features                                     |
| ---------- | ---------- | ------------------ | -------------------------------------------- |
| Node.js    | âœ… Ready   | @expozr/core       | Native runtime support                       |
| npm        | âœ… Ready   | @expozr/core       | Standard package manager support             |
| TypeScript | âœ… Ready   | @expozr/core       | Full TypeScript support                      |
| Bun        | ğŸ“‹ Planned | @expozr/bun        | All-in-one runtime, package manager, bundler |
| Deno       | ğŸ“‹ Planned | @expozr/deno       | Secure runtime, built-in tooling             |
| Nx         | ğŸ“‹ Planned | @expozr/nx         | Monorepo integration, workspace management   |
| Turbopack  | ğŸ“‹ Planned | @expozr/turbopack  | Fast builds, incremental compilation         |
| Turborepo  | ğŸ“‹ Planned | @expozr/turborepo  | Monorepo builds, remote caching              |
| Lerna      | ğŸ“‹ Planned | @expozr/lerna      | Package publishing, version management       |
| Rush       | ğŸ“‹ Planned | @expozr/rush       | Scalable monorepo, dependency management     |
| Changesets | ğŸ“‹ Planned | @expozr/changesets | Version management, changelog generation     |
| pnpm       | ğŸ“‹ Planned | @expozr/pnpm       | Workspace support, efficient installs        |
| Yarn PnP   | ğŸ“‹ Planned | @expozr/yarn-pnp   | Zero-installs, workspace optimization        |
| esbuild    | ğŸ“‹ Planned | @expozr/esbuild    | Ultra-fast builds, module transformation     |
| SWC        | ğŸ“‹ Planned | @expozr/swc        | Fast compilation, TypeScript support         |
| Babel      | ğŸ“‹ Planned | @expozr/babel      | Code transformation, plugin ecosystem        |
| Biome      | ğŸ“‹ Planned | @expozr/biome      | Linting integration, code formatting         |
| ESLint     | ğŸ“‹ Planned | @expozr/eslint     | Code quality, custom rules                   |
| Prettier   | ğŸ“‹ Planned | @expozr/prettier   | Code formatting integration                  |
| Husky      | ğŸ“‹ Planned | @expozr/husky      | Git hooks, pre-commit validation             |
| Vitest     | ğŸ“‹ Planned | @expozr/vitest     | Testing integration, module mocking          |
| Jest       | ğŸ“‹ Planned | @expozr/jest       | Testing framework integration                |
| Playwright | ğŸ“‹ Planned | @expozr/playwright | E2E testing, module loading tests            |
| Storybook  | ğŸ“‹ Planned | @expozr/storybook  | Component documentation, isolated testing    |

---

## ğŸ—ºï¸ Roadmap

### Phase 1: Foundation âœ…

- [x] Core library and types
- [x] Navigator runtime system
- [x] Webpack adapter
- [x] Vite adapter
- [x] React utilities
- [x] Working examples (Get Started, Vanilla, React, ESM, UMD, Vite)
- [x] Basic CLI tools (in beta)

### Phase 2: Expansion ğŸš§

- [ ] Stable CLI with templates
- [ ] Rollup adapter
- [ ] Advanced CLI features
- [ ] More framework examples (Vue, Angular, Svelte)
- [ ] Documentation website

### Phase 3: Production ğŸ“‹

- [ ] Performance optimizations
- [ ] Security features
- [ ] Monitoring tools
- [ ] Registry service
- [ ] VS Code extension

### Phase 4: Ecosystem ğŸ”®

- [ ] Plugin marketplace
- [ ] Community tools
- [ ] Enterprise features

## ğŸ¤ Contributing

We welcome contributions! Please see our [Contributing Guide](./CONTRIBUTING.md) for details.

## ğŸ“„ License

MIT Â© [Bruno Silva](https://github.com/brunos3d)

---

<div align="center">
  <strong>ğŸš€ Built with â¤ï¸ for the developer community</strong>
</div>
