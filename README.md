# 🚀 Expozr

**Universal plugin ecosystem for dynamic module sharing**

Expozr enables any web bundler to expose and consume modules at runtime, creating a truly decentralized application architecture that's simpler and more flexible than traditional approaches.

> **🚧 Current Status**: Expozr is in active development. The core functionality and Webpack adapter are working with examples available. See [examples](./examples) for working demos.

## 🎯 Core Concepts

### 🏪 **Expozr** (Remote Application)

The application that **exposes** modules. Think of it as a supplier in the ecosystem.

- Contains the actual implementation of shared components/utilities
- Generates an **Inventory** (exposure map)
- Can be deployed independently

### 🏠 **Host** (Consumer Application)

The application that **consumes** exposed modules from expozrs.

- Loads modules from Expozrs at runtime
- Uses a **Catalog** to discover available modules
- Handles dependency resolution automatically

### 📦 **Cargo** (Exposed Module)

Individual module/component being shared.

- Can be a React component, utility function, entire library, etc.
- Has metadata: name, version, dependencies, entry point
- Loaded dynamically at runtime

### 📋 **Inventory** (Exposure Map)

JSON manifest generated by Expozrs that lists all available Cargo with metadata.

### 🧭 **Navigator** (Runtime Loader)

Universal runtime system that handles dynamic loading, dependency resolution, and caching.

## 🎨 Examples & Quick Start

The fastest way to understand Expozr is to run the examples! We have working examples for different bundlers and frameworks. Check out the [examples](./examples) directory for complete working examples and detailed setup instructions.

### 📂 Examples Directory

**➡️ [View all examples](./examples/)**

| Example                                                        | Description                         | Stack                          |
| -------------------------------------------------------------- | ----------------------------------- | ------------------------------ |
| [**Webpack + Get Started**](./examples/webpack/get-started/)   | Simplest possible setup             | TypeScript                     |
| [**Webpack + Vanilla**](./examples/webpack/vanilla/)           | Basic module sharing                | Vanilla JS + TypeScript        |
| [**Webpack + React**](./examples/webpack/react/)               | React component sharing             | React + TypeScript             |
| [**Webpack + Express (Node.js)**](./examples/webpack/express/) | Express server module sharing (ESM) | Node.js + Express + TypeScript |
| [**Webpack + ESM**](./examples/webpack/esm/)                   | Modern ES modules                   | ESM + TypeScript               |
| [**Webpack + UMD**](./examples/webpack/umd/)                   | Universal module format             | UMD + TypeScript               |
| [**Vite + React**](./examples/vite/react/)                     | Vite React components               | Vite + React + TS              |

### ⚡ Quick Start (2 minutes)

Try the simplest Get Started example:

```bash
# 1. Clone and setup
git clone https://github.com/brunos3d/expozr.git
cd expozr
npm install && npm run build

# 2. Start the expozr (port 3001)
cd examples/webpack/get-started/remote
npm run dev

# 3. In a new terminal, start the host (port 3000)
cd examples/webpack/get-started/host
npm run dev

# 4. Open http://localhost:3000 in your browser
```

**That's it!** You'll see the host loading and using utilities from the remote expozr in real-time.

### 🎯 What You'll See

- ✅ **Automatic Config Discovery**: Zero configuration needed
- ✅ **Runtime Module Loading**: Modules loaded dynamically from remote
- ✅ **Hot Reloading**: Changes update instantly in development
- ✅ **Error Handling**: Clear error messages and troubleshooting

## ✨ Key Features

### 🐙 **Universal Module System**

- 🌍 **Bundler Agnostic**: Works with any bundler (Webpack, Vite, Rollup, Rspack, etc.)
- ✨ **Multi-Format Support**: ESM, UMD, CJS, AMD, IIFE, SystemJS with automatic detection
- 🧠 **Intelligent Fallbacks**: Graceful degradation when preferred formats fail
- ⚡ **Hybrid Mode**: Load both ESM and UMD versions of the same module

### 🚀 **Runtime Excellence**

- 🚀 **Dynamic Loading**: Load modules at runtime without build-time coupling
- 🎯 **Smart Format Detection**: Automatically detects and loads the best available format
- 🛠️ **Error Recovery**: Comprehensive error handling with detailed feedback
- 📊 **Format Tracking**: Monitor which formats are successfully loaded

### 🔧 **Developer Experience**

- 🔧 **Great DX**: Simple APIs, CLI tools, and comprehensive documentation
- 🏗️ **TypeScript First**: Full type safety with intelligent autocompletion
- 📱 **Cross-Platform**: Works seamlessly in Browser and Node.js environments
- 🔥 **Hot Reloading**: Development-time module reloading support

### ⚙️ **Advanced Configuration**

- 🔄 **Version Management**: Semantic versioning with automatic resolution
- 🏗️ **Dependency Resolution**: Smart dependency handling and conflict resolution
- ⚙️ **Configuration Presets**: Pre-built configurations for common scenarios
- 🛠️ **Plugin Architecture**: Extensible system for custom functionality

### 💾 **Intelligent Caching**

- 💾 **Multiple Strategies**: Memory, localStorage, IndexedDB, or no caching
- ⏱️ **TTL Support**: Time-based cache invalidation
- 🔧 **Cache Analytics**: Monitor cache performance and hit rates
- 🔄 **Smart Invalidation**: Automatic cache updates when modules change

### 🔒 **Production Ready**

- 🛡️ **Error Boundaries**: Graceful error handling and recovery
- 📊 **Performance Monitoring**: Track loading times and cache efficiency
- � **Debug Mode**: Detailed logging for development and troubleshooting
- 🚀 **Optimized Loading**: Preloading and lazy loading strategies

## 📦 Packages

### Core Packages

- **[@expozr/core](./packages/core)** - Core abstractions, types, and configuration system with multi-format module support (ESM, UMD, CJS)
- **[@expozr/navigator](./packages/navigator)** - Universal runtime loader with smart format detection, caching strategies, and cross-platform support
- **[@expozr/adapter-sdk](./packages/adapters/sdk)** - Shared SDK and utilities for building bundler adapters with configuration management and format utilities

### Bundler Adapters

- **[@expozr/webpack-adapter](./packages/adapters/webpack)** - Webpack 5+ support with inventory generation and hot reloading
- **[@expozr/vite-adapter](./packages/adapters/vite)** - Vite support with ESM-first approach and development server integration
- **[@expozr/rollup-adapter](./packages/adapters/rollup)** - Rollup support _(coming soon)_
- **[@expozr/rspack-adapter](./packages/adapters/rspack)** - Rspack support _(coming soon)_

### Framework Utilities

- **[@expozr/react](./packages/react)** - React component loading utilities

### Developer Tools

- **[@expozr/cli](./packages/cli)** - Command line tools

## 🛠️ Bundler Support

| Bundler    | Status     | Package                   |
| ---------- | ---------- | ------------------------- |
| Webpack 5+ | ✅ Ready   | @expozr/webpack-adapter   |
| Vite       | ✅ Ready   | @expozr/vite-adapter      |
| esbuild    | 📋 Planned | @expozr/esbuild-adapter   |
| Rollup     | 📋 Planned | @expozr/rollup-adapter    |
| Rspack     | 📋 Planned | @expozr/rspack-adapter    |
| Parcel     | 📋 Planned | @expozr/parcel-adapter    |
| Bun        | 📋 Planned | @expozr/bun-adapter       |
| Turbopack  | 📋 Planned | @expozr/turbopack-adapter |
| SWC        | 📋 Planned | @expozr/swc-adapter       |
| Farm       | 📋 Planned | @expozr/farm-adapter      |

## ⚛️ Frontend Framework Support

| Framework  | Status     | Package            | Features                                  |
| ---------- | ---------- | ------------------ | ----------------------------------------- |
| Vanilla JS | ✅ Ready   | @expozr/core       | Universal module loading                  |
| React      | ✅ Ready   | @expozr/react      | Component loading, Suspense integration   |
| Next.js    | 📋 Planned | @expozr/nextjs     | SSR/SSG support, App Router integration   |
| Modern.js  | 📋 Planned | @expozr/modernjs   | Module federation, SSR support            |
| Remix      | 📋 Planned | @expozr/remix      | Route-based loading, loader integration   |
| Gatsby     | 📋 Planned | @expozr/gatsby     | Static generation, build-time integration |
| Vue        | 📋 Planned | @expozr/vue        | Component loading, async components       |
| Nuxt       | 📋 Planned | @expozr/nuxt       | SSR/SSG support, auto-imports             |
| Angular    | 📋 Planned | @expozr/angular    | Module loading, lazy loading integration  |
| Svelte     | 📋 Planned | @expozr/svelte     | Component loading, reactive updates       |
| SvelteKit  | 📋 Planned | @expozr/sveltekit  | SSR support, route-based loading          |
| Solid      | 📋 Planned | @expozr/solid      | Component loading, lazy components        |
| SolidStart | 📋 Planned | @expozr/solidstart | SSR support, file-based routing           |
| Astro      | 📋 Planned | @expozr/astro      | Multi-framework support, island loading   |
| Qwik       | 📋 Planned | @expozr/qwik       | Resumable components, edge optimization   |
| Lit        | 📋 Planned | @expozr/lit        | Web component loading                     |

## 🔧 Development Tools & Plugins

| Tool       | Status     | Package            | Features                                     |
| ---------- | ---------- | ------------------ | -------------------------------------------- |
| Node.js    | ✅ Ready   | @expozr/core       | Native runtime support                       |
| npm        | ✅ Ready   | @expozr/core       | Standard package manager support             |
| TypeScript | ✅ Ready   | @expozr/core       | Full TypeScript support                      |
| Bun        | 📋 Planned | @expozr/bun        | All-in-one runtime, package manager, bundler |
| Deno       | 📋 Planned | @expozr/deno       | Secure runtime, built-in tooling             |
| Nx         | 📋 Planned | @expozr/nx         | Monorepo integration, workspace management   |
| Turbopack  | 📋 Planned | @expozr/turbopack  | Fast builds, incremental compilation         |
| Turborepo  | 📋 Planned | @expozr/turborepo  | Monorepo builds, remote caching              |
| Lerna      | 📋 Planned | @expozr/lerna      | Package publishing, version management       |
| Rush       | 📋 Planned | @expozr/rush       | Scalable monorepo, dependency management     |
| Changesets | 📋 Planned | @expozr/changesets | Version management, changelog generation     |
| pnpm       | 📋 Planned | @expozr/pnpm       | Workspace support, efficient installs        |
| Yarn PnP   | 📋 Planned | @expozr/yarn-pnp   | Zero-installs, workspace optimization        |
| esbuild    | 📋 Planned | @expozr/esbuild    | Ultra-fast builds, module transformation     |
| SWC        | 📋 Planned | @expozr/swc        | Fast compilation, TypeScript support         |
| Babel      | 📋 Planned | @expozr/babel      | Code transformation, plugin ecosystem        |
| Biome      | 📋 Planned | @expozr/biome      | Linting integration, code formatting         |
| ESLint     | 📋 Planned | @expozr/eslint     | Code quality, custom rules                   |
| Prettier   | 📋 Planned | @expozr/prettier   | Code formatting integration                  |
| Husky      | 📋 Planned | @expozr/husky      | Git hooks, pre-commit validation             |
| Vitest     | 📋 Planned | @expozr/vitest     | Testing integration, module mocking          |
| Jest       | 📋 Planned | @expozr/jest       | Testing framework integration                |
| Playwright | 📋 Planned | @expozr/playwright | E2E testing, module loading tests            |
| Storybook  | 📋 Planned | @expozr/storybook  | Component documentation, isolated testing    |

---

## 🗺️ Roadmap

### Phase 1: Foundation ✅

- [x] Core library and types
- [x] Navigator runtime system
- [x] Webpack adapter
- [x] Vite adapter
- [x] React utilities
- [x] Working examples (Get Started, Vanilla, React, ESM, UMD, Vite)
- [x] Basic CLI tools (in beta)

### Phase 2: Expansion 🚧

- [ ] Stable CLI with templates
- [ ] Rollup adapter
- [ ] Advanced CLI features
- [ ] More framework examples (Vue, Angular, Svelte)
- [ ] Documentation website

### Phase 3: Production 📋

- [ ] Performance optimizations
- [ ] Security features
- [ ] Monitoring tools
- [ ] Registry service
- [ ] VS Code extension

### Phase 4: Ecosystem 🔮

- [ ] Plugin marketplace
- [ ] Community tools
- [ ] Enterprise features

## 🤝 Contributing

We welcome contributions! Please see our [Contributing Guide](./CONTRIBUTING.md) for details.

## 📄 License

MIT © [Bruno Silva](https://github.com/brunos3d)

---

<div align="center">
  <strong>🚀 Built with ❤️ for the developer community</strong>
</div>
